ALTER PROCEDURE UpsertEmployeeTempASBEGIN-- SET NOCOUNT ON added to prevent extra result sets from	-- interfering with SELECT statements.	SET NOCOUNT ON;	-- Insert statements for procedure here    UPDATE ##EmployeeTemp    SET FirstName = E.FirstName,        LastName = E.LastName,        Gender = E.Gender,        DateofBirth = E.DateofBirth,        Salary = E.Salary,        DepartmentID = E.DepartmentID,        Address = E.Address,        CityID = E.CityID,        PinCode = E.PinCode,        IsActive = E.IsActive    FROM ##EmployeeTemp TE INNER JOIN dbo.Employee E	ON TE.EmployeeID = E.EmployeeID    WHERE TE.EmployeeID IN          (              SELECT T.EmployeeID              FROM              (SELECT * FROM dbo.Employee UNION SELECT  FROM ##EmployeeTemp) AS T              GROUP BY T.EmployeeID              HAVING COUNT(T.EmployeeID) >= 2          );	INSERT INTO ##EmployeeTemp	SELECT FirstName,           LastName,           Gender,           DateofBirth,           DepartmentID,           Salary,           Address,           CityID,           PinCode,           IsActive 	FROM dbo.Employee	WHERE EmployeeID NOT IN (		SELECT EmployeeID FROM ##EmployeeTemp	)	DELETE FROM ##EmployeeTemp	WHERE EmployeeID NOT IN (	SELECT EmployeeID FROM dbo.Employee	)END;GO